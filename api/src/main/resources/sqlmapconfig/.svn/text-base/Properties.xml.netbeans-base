<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap
    PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Properties">

   <resultMap id="propMap" class="java.util.HashMap">
      <result property="property_name" column="property_name"
              jdbcType="VARCHAR"       javaType="java.lang.String"/>

      <result property="property_value" column="property_value"
              jdbcType="VARCHAR"        javaType="java.lang.String"/>
   </resultMap>
	
   <select id="allProperties" resultMap="propMap" resultClass="java.util.HashMap">
      SELECT property_name, property_value FROM properties
   </select>
   
   <select id="propertyByName" 
           resultClass="java.lang.String"  
           parameterClass="java.lang.String">
      SELECT property_value
        FROM properties 
       WHERE property_name = #value#
   </select>
   
   <insert id="insertProperty" parameterClass="java.util.Map">
      INSERT INTO properties 
             VALUES (
             			0,
      					#property_name#,
      					#property_value#
                  	)
   </insert>
   
   <delete id="deleteProperty" parameterClass="java.lang.String">
      DELETE FROM properties
      WHERE property_name = #value#
   </delete>
   
   <update id="persistProperty" parameterClass="java.util.Map">
      UPDATE properties 
      SET	property_value = #property_value#
      WHERE property_name = #property_name#
   </update>

</sqlMap>
